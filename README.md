# Домашнее задание к занятию "3.6. Компьютерные сети, лекция 1"

2. В диапазоне 2,4 ГГц 3 непересекающихся канала, 1, 6, 11.
   В частотном диапазоне 5 ГГц доступно 23 неперекрывающихся канала по 20 МГц

3. 38-F9-D3 (hex) Apple, Inc. 

4. MSS = 9001 - 20 -32 = 8949 байт

5. не может, т.к. SYN начинает соединение, а FIN завершает соединение.

6. UNCONN, т.к. UDP, это протокол без постоянного соединения

7. 
Состояния закрывающей стороны
ESTABLISHED Локальное приложение запрашивает закрытие соединения.TCP посылает FIN/ACK. 
FIN-WAIT-1 Закрывающая сторона ожидает ответа партнера. 
FIN-WAIT-2 Закрывающая сторона получила ACK от партнера, но еще не пришел FIN. 
Закрывающая сторона ожидает FIN, принимая поступающие данные. TCP получает FIN/ACK. Посылает ACK. 
TIME-WAIT Соединение поддерживается в неопределенном состоянии, чтобы позволить прибыть или отбросить все еще 
существующие в сети дублированные данные или дублированный FIN. 
CLOSED

Состояние партнера 
ESTABLISHED TCP получает FIN/ACK. 
CLOSE-WAIT Прибыл FIN. 
TCP посылает ACK. 
TCP ожидает от своего приложения закрытия соединения. 
TCP посылает FIN/ACK. LAST-ACK TCP ожидает конечный ACK. TCP получает ACK. 
CLOSED

8. Теоретическое максимальное число соединений, которое параллельно может установить клиент с одного IP адреса к серверу
с одним IP адресом ограничивается числом портом < 65536 клиента	 на 1 порт сервера.
У нескольких клиентов может быть до 64K подключений к некоторому серверному порту, если у сервера есть несколько портов 
или он многопользовательский, то можно умножать это дальше. Реальный предел ограничивается файловыми дескрипторами в системе.

9. Да, может сложиться ситуация, при которой большое число соединений TCP на хосте находятся в состоянии TIME-WAIT. Ситуация плохая,
т.к каждому новому соединению выделяется новый локальный порт. Если клиент был активной стороной завершения TCP-сессии, 
то это соединение будет заблокировано какое-то время в состоянии TIME_WAIT, очередь TIME_WAIT будет расти, забирая системные ресурсы.

10. Если размер данных превышает размер максимального блока передачи (MTU) локальной сети, то:
TCP разбивает данные на сегменты, размер которых не превышает размера MTU.
В случае UDP фрагментация данных выполняется на следующем уровне - уровне IP.
Если уровень IP в принимающей системе определяет, что уровень IP в передающей системе разбил данные на фрагменты, он собирает фрагменты
 в исходный блок данных и передает его уровню UDP. UDP передает полученные данные в буфер приема сокета.
Если буфер приема сокета (udp_recvspace) переполнен, то пакет отбрасывается.

11. Выбрал бы протокол TCP, чтобы не потерять информацию.
В syslog в зависимости от версии протокола используются как TCP, так и UDP. Если необходимо защищенное соединение, то как правило TCP.

12. 3 порта (111, 53, 22)

vagrant@vagrant:/$ ss -lte
State        Recv-Q       Send-Q              Local Address:Port                 Peer Address:Port       Process
LISTEN       0            4096                      0.0.0.0:sunrpc                    0.0.0.0:*           ino:16079 sk:4 <->
LISTEN       0            4096                127.0.0.53%lo:domain                    0.0.0.0:*           uid:101 ino:22060 sk:5 <->
LISTEN       0            128                       0.0.0.0:ssh                       0.0.0.0:*           ino:23398 sk:6 <->
LISTEN       0            4096                         [::]:sunrpc                       [::]:*           ino:16083 sk:92 v6only:1 <->
LISTEN       0            128                          [::]:ssh                          [::]:*           ino:23400 sk:93 v6only:1 <->

либо 
vagrant@vagrant:/$ ss -lten
State        Recv-Q        Send-Q               Local Address:Port               Peer Address:Port       Process
LISTEN       0             4096                       0.0.0.0:111                     0.0.0.0:*           ino:16079 sk:4 <->
LISTEN       0             4096                 127.0.0.53%lo:53                      0.0.0.0:*           uid:101 ino:22060 sk:5 <->
LISTEN       0             128                        0.0.0.0:22                      0.0.0.0:*           ino:23398 sk:6 <->
LISTEN       0             4096                          [::]:111                        [::]:*           ino:16083 sk:92 v6only:1 <->
LISTEN       0             128                           [::]:22                         [::]:*           ino:23400 sk:93 v6only:1 <->

13. 
tcpdump -vv -A расширенный вывод + вывод содержимого в формате ASCII
tcpdump -vv -X в шестнадцатеричном формате

14. флаги ip пакета бывают:
Флаг "Дополнительные Фрагменты" (MF)
Флаг "Не Фрагментировать" (DF)

Ethernet DIX (или кадр Ethernet II)

в mac адресе можно увидеть OUI:
ifconfig -a
ether 08:00:27:e3:90:c5  txqueuelen 1000  (Ethernet)


